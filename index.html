<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rafaela Finance</title>
    <meta name="description" content="Aplikasi manajemen keuangan untuk bisnis kecil">
    <meta name="theme-color" content="#4361ee">
    
    <link rel="manifest" href="manifest(2).json">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“Š</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“Š</text></svg>">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --success: #4cc9a4;
            --danger: #f72585;
            --warning: #fca311;
            --info: #4cc9f0;
            --light: #f8f9fa;
            --dark: #212529;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fb;
            margin: 0;
            padding: 0;
        }
        
        .card {
            transition: all 0.3s ease;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        .sidebar {
            width: 250px;
            transition: all 0.3s ease;
        }
        
        .main-content {
            transition: all 0.3s ease;
        }
        
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .type-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .type-income {
            background-color: rgba(76, 201, 164, 0.15);
            color: #4cc9a4;
        }
        
        .type-expense {
            background-color: rgba(247, 37, 133, 0.15);
            color: #f72585;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }
        
        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 0.375rem;
            box-sizing: border-box;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.375rem;
            cursor: pointer;
            font-weight: 500;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-success {
            background-color: var(--success);
            color: white;
        }
        
        .btn-danger {
            background-color: var(--danger);
            color: white;
        }
        
        .invoice-item {
            display: flex;
            margin-bottom: 1rem;
            gap: 0.5rem;
        }
        
        .invoice-item input {
            flex: 1;
        }
        
        .invoice-item-actions {
            display: flex;
            align-items: center;
        }
        
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                position: fixed;
                z-index: 100;
                height: 100vh;
            }
            
            .sidebar.open {
                transform: translateX(0);
            }
            
            .overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 99;
            }
            
            .overlay.open {
                display: block;
            }
            
            .modal-content {
                width: 95%;
                margin: 10% auto;
                padding: 15px;
            }
            
            .invoice-item {
                flex-direction: column;
            }
        }
        
        /* Invoice Template Styles */
        .invoice-template {
            display: none;
            padding: 20px;
            background-color: white;
            border: 1px solid #ddd;
            margin-top: 20px;
        }
        
        .invoice-header {
            text-align: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #ddd;
            padding-bottom: 20px;
        }
        
        .invoice-details {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .invoice-items {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        
        .invoice-items th, .invoice-items td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        
        .invoice-items th {
            background-color: #f5f5f5;
        }
        
        .invoice-totals {
            margin-left: auto;
            width: 300px;
        }
        
        .invoice-totals div {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .invoice-footer {
            margin-top: 30px;
            text-align: center;
            border-top: 1px solid #ddd;
            padding-top: 20px;
        }

        .offline {
            color: #f72585;
        }

        .online {
            color: #4cc9a4;
        }

        .sync-status {
            margin-top: 10px;
            font-size: 0.9rem;
            color: var(--gray);
            display: flex;
            align-items: center;
            gap: 5px;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div id="pwa-install-container" class="notification bg-white text-gray-800 p-4 rounded-lg shadow-lg hidden">
        <p class="mb-2">Aplikasi ini dapat dipasang ke perangkat Anda.</p>
        <button id="pwa-install-btn" class="w-full bg-blue-500 text-white py-2 rounded-lg font-medium hover:bg-blue-600 transition duration-200">
            <i class="fas fa-download mr-2"></i>Pasang Aplikasi
        </button>
    </div>

    <div id="login-screen" class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-indigo-700 p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800">Rafaela Finance</h1>
                <p class="text-gray-600">Aplikasi Manajemen Keuangan</p>
            </div>
            
            <form id="login-form">
                <div class="mb-4">
                    <label for="login-email" class="block text-gray-700 text-sm font-medium mb-2">Email</label>
                    <input type="email" id="login-email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan email" required>
                </div>
                
                <div class="mb-6">
                    <label for="login-password" class="block text-gray-700 text-sm font-medium mb-2">Password</label>
                    <input type="password" id="login-password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan password" required>
                </div>
                
                <button type="submit" class="w-full bg-blue-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-600 transition duration-200">
                    <i class="fas fa-sign-in-alt mr-2"></i> Masuk
                </button>
            </form>
            <div class="mt-4 text-center">
                <p>Belum punya akun? <a href="#" id="show-register" class="text-blue-500 hover:underline">Daftar di sini</a></p>
            </div>
        </div>
    </div>
    
    <div id="register-screen" class="hidden min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-indigo-700 p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800">Daftar Akun Baru</h1>
                <p class="text-gray-600">Untuk memulai menggunakan Rafaela Finance</p>
            </div>
            <form id="register-form">
                <div class="mb-4">
                    <label for="register-name" class="block text-gray-700 text-sm font-medium mb-2">Nama Lengkap</label>
                    <input type="text" id="register-name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nama Lengkap" required>
                </div>
                <div class="mb-4">
                    <label for="register-email" class="block text-gray-700 text-sm font-medium mb-2">Email</label>
                    <input type="email" id="register-email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Email" required>
                </div>
                <div class="mb-6">
                    <label for="register-password" class="block text-gray-700 text-sm font-medium mb-2">Password</label>
                    <input type="password" id="register-password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Password (min. 6 karakter)" required>
                </div>
                <button type="submit" class="w-full bg-green-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-600 transition duration-200">
                    <i class="fas fa-user-plus mr-2"></i> Daftar
                </button>
            </form>
            <div class="mt-4 text-center">
                <p>Sudah punya akun? <a href="#" id="show-login" class="text-blue-500 hover:underline">Masuk</a></p>
            </div>
        </div>
    </div>

    <div id="app-container" class="hidden min-h-screen flex flex-col md:flex-row">
        <div id="sidebar-overlay" class="overlay hidden" onclick="toggleSidebar()"></div>

        <div id="sidebar" class="sidebar bg-gray-800 text-white h-screen fixed md:relative flex flex-col">
            <div class="p-5 border-b border-gray-700">
                <div class="flex items-center">
                    <div class="text-2xl font-bold mr-3">RF</div>
                    <div>
                        <h2 class="font-semibold">Rafaela Finance</h2>
                        <p class="text-xs text-gray-400" id="user-role-display">Pengguna</p>
                    </div>
                </div>
            </div>
            
            <div class="flex-1 overflow-y-auto py-4">
                <nav class="space-y-1 px-3">
                    <a href="#" onclick="showView('dashboard')" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 rounded-lg transition duration-150">
                        <i class="fas fa-tachometer-alt w-5 mr-3 text-center"></i>
                        Dashboard
                    </a>
                    <a href="#" onclick="showView('keuangan')" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 rounded-lg transition duration-150">
                        <i class="fas fa-wallet w-5 mr-3 text-center"></i>
                        Transaksi
                    </a>
                    <a href="#" onclick="showView('karyawan')" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 rounded-lg transition duration-150">
                        <i class="fas fa-users w-5 mr-3 text-center"></i>
                        Manajemen Karyawan
                    </a>
                    <a href="#" onclick="showView('laporan')" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-700 rounded-lg transition duration-150">
                        <i class="fas fa-chart-pie w-5 mr-3 text-center"></i>
                        Laporan
                    </a>
                </nav>
            </div>
            
            <div class="p-4 border-t border-gray-700">
                <button onclick="logout()" class="flex items-center w-full px-4 py-3 text-gray-300 hover:bg-gray-700 rounded-lg transition duration-150">
                    <i class="fas fa-sign-out-alt w-5 mr-3 text-center"></i>
                    Keluar
                </button>
            </div>
        </div>

        <div class="main-content flex-1 md:ml-0">
            <header class="bg-white shadow-sm sticky top-0 z-50">
                <div class="flex items-center justify-between p-4">
                    <div class="flex items-center">
                        <button onclick="toggleSidebar()" class="md:hidden text-gray-500 focus:outline-none mr-3">
                            <i class="fas fa-bars fa-lg"></i>
                        </button>
                        <h1 id="page-title" class="text-2xl font-bold text-gray-800">Dashboard</h1>
                    </div>
                    
                    <div class="flex items-center">
                        <span id="connection-status" class="sync-status text-gray-500 mr-4">
                            <i class="fas fa-wifi text-xl online"></i>
                            <span class="hidden md:block">Online</span>
                        </span>
                        <div class="mr-4 text-right hidden md:block">
                            <p class="font-medium" id="user-name-display">Pengguna</p>
                            <p class="text-sm text-gray-500" id="user-email-display"></p>
                        </div>
                        <div class="w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold">
                            <span id="user-avatar">?</span>
                        </div>
                    </div>
                </div>
            </header>

            <main class="p-4 md:p-6">
                <div id="dashboard-view">
                    <div class="mb-6">
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                            <h2 class="text-xl font-semibold text-gray-800">Ringkasan Keuangan</h2>
                            <select id="filter-bulan-dashboard" onchange="updateDashboard()" class="p-2 border border-gray-300 rounded-lg bg-white shadow-sm">
                                <option value="semua">Semua Bulan</option>
                            </select>
                        </div>
                        <p class="text-gray-500 mt-1">Ringkasan keuangan Anda berdasarkan periode yang dipilih.</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                        <div class="card bg-white p-6 rounded-xl border-t-4 border-green-500">
                            <div class="flex items-center">
                                <div class="p-3 bg-green-100 rounded-full">
                                    <i class="fas fa-arrow-down text-green-500 text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-gray-500">Total Pemasukan</p>
                                    <p id="total-pemasukan" class="text-2xl font-bold">Rp 0</p>
                                </div>
                            </div>
                        </div>
                        <div class="card bg-white p-6 rounded-xl border-t-4 border-red-500">
                            <div class="flex items-center">
                                <div class="p-3 bg-red-100 rounded-full">
                                    <i class="fas fa-arrow-up text-red-500 text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-gray-500">Total Pengeluaran</p>
                                    <p id="total-pengeluaran" class="text-2xl font-bold">Rp 0</p>
                                </div>
                            </div>
                        </div>
                        <div class="card bg-white p-6 rounded-xl border-t-4 border-blue-500">
                            <div class="flex items-center">
                                <div class="p-3 bg-blue-100 rounded-full">
                                    <i class="fas fa-chart-line text-blue-500 text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-gray-500">Laba/Rugi Bersih</p>
                                    <p id="laba-bersih" class="text-2xl font-bold">Rp 0</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="card bg-white p-6 rounded-xl">
                            <h2 class="text-xl font-semibold mb-4">Grafik Keuangan</h2>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="finance-chart"></canvas>
                            </div>
                        </div>
                        <div class="card bg-white p-6 rounded-xl">
                            <h2 class="text-xl font-semibold mb-4">Transaksi Terbaru</h2>
                            <div id="transaksi-terbaru-list" class="space-y-4">
                                <div class="empty-state text-center text-gray-500">
                                    <p>Tidak ada transaksi terbaru.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="keuangan-view" class="hidden">
                    <div class="flex flex-col sm:flex-row justify-between items-center gap-4 mb-6">
                        <h2 class="text-xl font-semibold text-gray-800">Manajemen Transaksi</h2>
                        <button onclick="openModal('addTransactionModal')" class="btn btn-primary flex items-center">
                            <i class="fas fa-plus mr-2"></i> Tambah Transaksi
                        </button>
                    </div>

                    <div class="card bg-white p-6 rounded-xl mb-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                            <div class="form-group">
                                <label for="filter-month" class="block text-gray-700 text-sm font-medium mb-1">Bulan</label>
                                <select id="filter-month" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                    <option value="semua">Semua</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="filter-year" class="block text-gray-700 text-sm font-medium mb-1">Tahun</label>
                                <select id="filter-year" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                    <option value="semua">Semua</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="filter-type" class="block text-gray-700 text-sm font-medium mb-1">Jenis</label>
                                <select id="filter-type" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                    <option value="semua">Semua</option>
                                    <option value="income">Pemasukan</option>
                                    <option value="expense">Pengeluaran</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="filter-category" class="block text-gray-700 text-sm font-medium mb-1">Kategori</label>
                                <select id="filter-category" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                    <option value="semua">Semua</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="card bg-white p-6 rounded-xl overflow-x-auto">
                        <table class="w-full table-auto">
                            <thead>
                                <tr class="bg-gray-100 text-left text-gray-600 uppercase text-sm leading-normal">
                                    <th class="py-3 px-6">Tanggal</th>
                                    <th class="py-3 px-6">Jenis</th>
                                    <th class="py-3 px-6">Kategori</th>
                                    <th class="py-3 px-6">Catatan</th>
                                    <th class="py-3 px-6">Nominal</th>
                                    <th class="py-3 px-6 text-center">Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="transactions-table-body" class="text-gray-600 text-sm font-light">
                                </tbody>
                        </table>
                        <div id="empty-transactions" class="text-center text-gray-500 py-10 hidden">
                            <p class="text-lg">Tidak ada transaksi yang cocok dengan filter Anda.</p>
                        </div>
                    </div>
                </div>

                <div id="karyawan-view" class="hidden">
                    <div class="flex flex-col sm:flex-row justify-between items-center gap-4 mb-6">
                        <h2 class="text-xl font-semibold text-gray-800">Manajemen Karyawan</h2>
                        <button onclick="openModal('addEmployeeModal')" class="btn btn-primary flex items-center">
                            <i class="fas fa-plus mr-2"></i> Tambah Karyawan
                        </button>
                    </div>

                    <div class="card bg-white p-6 rounded-xl overflow-x-auto">
                        <table class="w-full table-auto">
                            <thead>
                                <tr class="bg-gray-100 text-left text-gray-600 uppercase text-sm leading-normal">
                                    <th class="py-3 px-6">Nama</th>
                                    <th class="py-3 px-6">Email</th>
                                    <th class="py-3 px-6">Posisi</th>
                                    <th class="py-3 px-6">Bergabung</th>
                                    <th class="py-3 px-6 text-center">Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="employees-table-body" class="text-gray-600 text-sm font-light">
                                <tr class="border-b border-gray-200 hover:bg-gray-100">
                                    <td class="py-3 px-6">Admin Owner</td>
                                    <td class="py-3 px-6">owner@rafaela.com</td>
                                    <td class="py-3 px-6">Owner</td>
                                    <td class="py-3 px-6">2023-01-01</td>
                                    <td class="py-3 px-6 text-center">
                                        <button class="btn-icon btn-edit" title="Edit"><i class="fas fa-edit"></i></button>
                                        <button class="btn-icon btn-delete" title="Hapus"><i class="fas fa-trash-alt"></i></button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div id="empty-employees" class="text-center text-gray-500 py-10 hidden">
                            <p class="text-lg">Tidak ada data karyawan.</p>
                        </div>
                    </div>
                </div>

                <div id="laporan-view" class="hidden">
                    <div class="flex flex-col sm:flex-row justify-between items-center gap-4 mb-6">
                        <h2 class="text-xl font-semibold text-gray-800">Laporan Keuangan</h2>
                        <div class="flex flex-col sm:flex-row items-center gap-2">
                            <button id="export-pdf-btn" class="btn btn-primary flex items-center">
                                <i class="fas fa-file-pdf mr-2"></i> Ekspor PDF
                            </button>
                            <button id="export-csv-btn" class="btn btn-success flex items-center">
                                <i class="fas fa-file-csv mr-2"></i> Ekspor CSV
                            </button>
                        </div>
                    </div>

                    <div class="card bg-white p-6 rounded-xl mb-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                            <div class="form-group">
                                <label for="report-month" class="block text-gray-700 text-sm font-medium mb-1">Bulan</label>
                                <select id="report-month" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                    <option value="semua">Semua</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="report-year" class="block text-gray-700 text-sm font-medium mb-1">Tahun</label>
                                <select id="report-year" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                    <option value="semua">Semua</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="report-type" class="block text-gray-700 text-sm font-medium mb-1">Jenis</label>
                                <select id="report-type" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                    <option value="semua">Semua</option>
                                    <option value="income">Pemasukan</option>
                                    <option value="expense">Pengeluaran</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="report-category" class="block text-gray-700 text-sm font-medium mb-1">Kategori</label>
                                <select id="report-category" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                    <option value="semua">Semua</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card bg-white p-6 rounded-xl">
                        <h3 class="text-lg font-semibold mb-4">Ringkasan Laporan</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div>
                                <p class="text-gray-500">Total Pemasukan</p>
                                <p id="report-income-total" class="text-xl font-bold text-green-600">Rp 0</p>
                            </div>
                            <div>
                                <p class="text-gray-500">Total Pengeluaran</p>
                                <p id="report-expense-total" class="text-xl font-bold text-red-600">Rp 0</p>
                            </div>
                            <div>
                                <p class="text-gray-500">Laba Bersih</p>
                                <p id="report-net-profit" class="text-xl font-bold text-blue-600">Rp 0</p>
                            </div>
                        </div>
                    </div>
                </div>

            </main>
        </div>
    </div>

    <div id="addTransactionModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addTransactionModal')">&times;</span>
            <h2 class="text-2xl font-semibold mb-4">Tambah Transaksi Baru</h2>
            <form id="add-transaction-form">
                <input type="hidden" id="transaction-id">
                <div class="form-group">
                    <label for="transaction-date">Tanggal</label>
                    <input type="date" id="transaction-date" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="transaction-type">Jenis</label>
                    <select id="transaction-type" class="form-control" required>
                        <option value="">Pilih...</option>
                        <option value="income">Pemasukan</option>
                        <option value="expense">Pengeluaran</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="transaction-category">Kategori</label>
                    <select id="transaction-category" class="form-control" required>
                        <option value="">Pilih...</option>
                        </select>
                </div>
                <div class="form-group">
                    <label for="transaction-subcategory">Sub Kategori</label>
                    <input type="text" id="transaction-subcategory" class="form-control">
                </div>
                <div class="form-group">
                    <label for="transaction-amount">Nominal</label>
                    <input type="number" id="transaction-amount" class="form-control" min="0" required>
                </div>
                <div class="form-group">
                    <label for="transaction-note">Catatan</label>
                    <textarea id="transaction-note" class="form-control" rows="3"></textarea>
                </div>
                <button type="submit" class="btn btn-primary w-full mt-4">Simpan Transaksi</button>
            </form>
        </div>
    </div>

    <div id="invoice-template" class="invoice-template p-6 bg-white border border-gray-300">
        <div class="invoice-header text-center">
            <h1 class="text-3xl font-bold mb-2">INVOICE</h1>
            <p id="invoice-number" class="text-lg text-gray-600">INV-001</p>
        </div>
        <div class="invoice-details mb-6 text-sm text-gray-700">
            <div>
                <p><strong>Kepada:</strong> <span id="invoice-customer"></span></p>
                <p><strong>Tanggal:</strong> <span id="invoice-date"></span></p>
            </div>
            <div>
                <p><strong>Rafaela Finance</strong></p>
                <p>Semarang, Indonesia</p>
            </div>
        </div>
        
        <table class="invoice-items w-full border-collapse mb-6 text-sm">
            <thead>
                <tr class="bg-gray-100">
                    <th class="py-2 px-4 border">Deskripsi</th>
                    <th class="py-2 px-4 border text-right">Harga</th>
                    <th class="py-2 px-4 border text-center">Jumlah</th>
                    <th class="py-2 px-4 border text-right">Total</th>
                </tr>
            </thead>
            <tbody id="invoice-items-list">
            </tbody>
        </table>
        
        <div class="invoice-totals text-right text-sm">
            <div class="flex justify-between">
                <span>Subtotal:</span>
                <span id="invoice-subtotal" class="font-bold">Rp 0</span>
            </div>
            <div class="flex justify-between">
                <span>Pajak (0%):</span>
                <span id="invoice-tax" class="font-bold">Rp 0</span>
            </div>
            <div class="flex justify-between text-lg font-bold">
                <span>TOTAL:</span>
                <span id="invoice-total">Rp 0</span>
            </div>
        </div>
        <p class="invoice-footer text-center text-xs text-gray-500 mt-6">Terima kasih atas pesanan Anda!</p>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <script src="script.js"></script>
</body>
</html>